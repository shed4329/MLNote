# MNIST数据集UMAP降维可视化

本项目使用UMAP（Uniform Manifold Approximation and Projection）算法对MNIST手写数字数据集进行降维处理，并通过二维散点图可视化高维数据的分布特征，帮助直观理解手写数字数据的聚类模式。


## 项目概述
MNIST数据集是机器学习领域经典的手写数字数据集，包含70000个样本（60000个训练样本+10000个测试样本），每个样本为28×28像素的灰度图像（展开后为784维特征向量），对应0-9共10个数字类别。

本代码通过以下步骤实现数据可视化：
1. 加载并合并MNIST训练集与测试集
2. 对高维特征数据进行标准化预处理
3. 使用UMAP将784维特征降维至2维
4. 绘制二维散点图，用不同颜色区分数字类别
5. 保存可视化结果并展示


## 环境依赖
运行本代码需安装以下Python库

| 库名称 | 作用 | 推荐版本 |
|--------|------|----------|
| `numpy` | 数值计算与数组处理 | ≥1.21.0 |
| `matplotlib` | 数据可视化 | ≥3.4.0 |
| `scikit-learn` | 数据标准化预处理 | ≥1.0.0 |
| `umap-learn` | UMAP降维算法实现 | ≥0.5.0 |
| `tensorflow` | 加载MNIST数据集（内置Keras） | ≥2.6.0 |

### 安装命令
```bash
# 使用pip安装
pip install numpy matplotlib scikit-learn umap-learn tensorflow
```

## 运行步骤
1. 确保已安装所有依赖库（参考“环境依赖”部分）
2. 将代码保存为`.py`文件（例如`mnist_umap.py`）
3. 在终端或IDE中运行代码：
   ```bash
   python mnist_umap.py
   ```
4. 运行过程中会输出日志（加载数据、标准化、降维进度）
5. 最终生成可视化图片`mnist_umap_keras.png`，并自动弹出图像窗口


## 预期结果
生成的二维散点图中，**相同数字的样本会形成明显的聚类簇**，不同数字的聚类簇之间有清晰的区分（部分相似数字如“4”和“9”可能存在少量重叠）。这表明UMAP成功保留了高维数据中的类别信息，将相似的手写数字映射到二维空间中的邻近区域。


## 注意事项
1. **首次运行耗时**：首次加载MNIST数据集时会自动下载（约11MB），需等待下载完成；全量70000样本降维耗时较长，代码中默认取1000个样本，可通过修改`n_samples`参数调整样本数量。
2. **结果可复现性**：`random_state=42`保证每次运行的降维结果一致，若需探索不同结果可修改该参数。
3. **参数调优**：
   - `n_neighbors`：增大值会更关注全局结构，减小值会更关注局部细节。
   - `min_dist`：增大值会使聚类更分散，减小值会使聚类更紧凑。
4. **内存占用**：全量70000样本（784维）约占用217MB内存（`float64`类型），标准化后内存占用不变，一般电脑可正常处理。


## 扩展建议
1. **全量数据可视化**：将`n_samples`改为70000，观察全量数据的聚类效果（需更长计算时间）。
2. **对比其他降维算法**：可替换为PCA、t-SNE等算法，比较不同降维方法对MNIST数据的可视化效果。
3. **交互式可视化**：使用`plotly`库替换`matplotlib`，生成可缩放、可hover显示数字标签的交互式图表。
4. **特征筛选**：尝试对图像进行边缘检测、降噪等预处理后再降维，观察对聚类效果的影响。